{"ast":null,"code":"var _jsxFileName = \"/mnt/nfs/homes/idhiba/Documents/test/src/Pong.tsx\";\nimport React from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Pong() {\n  return /*#__PURE__*/_jsxDEV(\"body\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      id: \"pong\",\n      children: \"Pong\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n        id: \"canvas\",\n        width: \"740\",\n        height: \"580\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 9,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      id: \"texte\",\n      children: \"WELCOME TO THE PONG !\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      id: \"play\",\n      children: \"Click to play\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 5\n  }, this);\n}\n\n_c = Pong;\nwindow.addEventListener(\"load\", function () {\n  let canvas;\n  let game;\n  let PLAYER_HEIGHT = 100;\n  let PLAYER_WIDTH = 5;\n  let text = document.querySelector(\"#texte\");\n  let pong = document.querySelector(\"#pong\");\n  let click = document.querySelector(\"#play\");\n  pong.style.textAlign = \"center\";\n  pong.style.fontSize = \"400%\";\n  pong.style.fontFamily = \"Apple Chancery\";\n  text.style.textAlign = \"center\";\n  text.style.fontSize = \"250%\";\n  text.style.fontFamily = \"Apple Chancery\";\n  click.style.textAlign = \"center\";\n  click.style.fontSize = \"250%\";\n  click.style.fontFamily = \"Apple Chancery\";\n\n  function draw() {\n    console.log(\"gildas le bg\");\n    var context = canvas.getContext('2d'); // Draw field\n\n    context.fillStyle = 'black';\n    context.fillRect(0, 0, canvas.width, canvas.height); // Draw middle line\n\n    context.strokeStyle = 'white';\n    context.beginPath();\n    context.moveTo(canvas.width / 2, 0);\n    context.lineTo(canvas.width / 2, canvas.height);\n    context.stroke(); // Draw players\n\n    context.fillStyle = 'white';\n    context.fillRect(5, game.player.y, PLAYER_WIDTH, PLAYER_HEIGHT);\n    context.fillRect(canvas.width - 5 - PLAYER_WIDTH, game.computer.y, PLAYER_WIDTH, PLAYER_HEIGHT); // Draw ball\n\n    context.beginPath();\n    context.fillStyle = 'white';\n    context.arc(game.ball.x, game.ball.y, game.ball.r, 0, Math.PI * 2, false);\n    context.fill();\n  }\n\n  function ballMove() {\n    // Rebounds on top and bottom\n    if (game.ball.y > canvas.height || game.ball.y < 0) game.ball.speed.y *= -1;\n    if (game.ball.x > canvas.width - PLAYER_WIDTH) collision(game.computer);else if (game.ball.x < PLAYER_WIDTH) collision(game.player);\n    game.ball.x += game.ball.speed.x;\n    game.ball.y += game.ball.speed.y;\n  }\n\n  function play() {\n    draw();\n    ballMove();\n    requestAnimationFrame(play);\n  }\n\n  function changeDirection(playerPosition) {\n    var impact = game.ball.y - playerPosition - PLAYER_HEIGHT / 2;\n    var ratio = 100 / (PLAYER_HEIGHT / 2); // Get a value between 0 and 10\n\n    game.ball.speed.y = Math.round(impact * ratio / 10);\n  }\n\n  function collision(player) {\n    // The player does not hit the ball\n    if (game.ball.y < player.y || game.ball.y > player.y + PLAYER_HEIGHT) {\n      // Set ball and players to the center\n      game.ball.x = canvas.width / 2;\n      game.ball.y = canvas.height / 2;\n      game.player.y = canvas.height / 2 - PLAYER_HEIGHT / 2;\n      game.computer.y = canvas.height / 2 - PLAYER_HEIGHT / 2; // Reset speed\n\n      game.ball.speed.x = 4;\n    } else {\n      // Increase speed and change direction\n      game.ball.speed.x *= -1.25;\n      changeDirection(player.y);\n    }\n  }\n\n  document.addEventListener('click', function () {\n    text.style.display = \"none\";\n    click.style.display = \"none\";\n    canvas = document.getElementById('canvas');\n    canvas.style.display = \"block\";\n    canvas.style.margin = \"auto\";\n    game = {\n      player: {\n        y: canvas.height / 2 - PLAYER_HEIGHT / 2\n      },\n      computer: {\n        y: canvas.height / 2 - PLAYER_HEIGHT / 2\n      },\n      ball: {\n        x: canvas.width / 2,\n        y: canvas.height / 2,\n        r: 5,\n        speed: {\n          x: 2,\n          y: 2\n        }\n      }\n    };\n    canvas.addEventListener('mousemove', playerMove);\n\n    function playerMove(event) {\n      // Get the mouse location in the canvas\n      var canvasLocation = canvas.getBoundingClientRect();\n      var mouseLocation = event.clientY - canvasLocation.y;\n      if (mouseLocation < PLAYER_HEIGHT / 2) game.player.y = 0;else if (mouseLocation > canvas.height - PLAYER_HEIGHT / 2) game.player.y = canvas.height - PLAYER_HEIGHT;else game.player.y = mouseLocation - PLAYER_HEIGHT / 2;\n    }\n\n    draw();\n    document.addEventListener('click', function () {\n      play();\n    });\n  });\n});\nexport default Pong;\n\nvar _c;\n\n$RefreshReg$(_c, \"Pong\");","map":{"version":3,"names":["React","Pong","window","addEventListener","canvas","game","PLAYER_HEIGHT","PLAYER_WIDTH","text","document","querySelector","pong","click","style","textAlign","fontSize","fontFamily","draw","console","log","context","getContext","fillStyle","fillRect","width","height","strokeStyle","beginPath","moveTo","lineTo","stroke","player","y","computer","arc","ball","x","r","Math","PI","fill","ballMove","speed","collision","play","requestAnimationFrame","changeDirection","playerPosition","impact","ratio","round","display","getElementById","margin","playerMove","event","canvasLocation","getBoundingClientRect","mouseLocation","clientY"],"sources":["/mnt/nfs/homes/idhiba/Documents/test/src/Pong.tsx"],"sourcesContent":["import React from 'react';\nimport './App.css';\n\nfunction Pong() {\n  return (\n    <body>\n    <h1 id=\"pong\">Pong</h1>\n    <main>\n        <canvas id=\"canvas\" width=\"740\" height=\"580\"></canvas>\n    </main>\n    <p id =\"texte\">WELCOME TO THE PONG !</p>\n    <p id =\"play\">Click to play</p>\n    </body>\n  );\n}\n\n\n\nwindow.addEventListener(\"load\", function () {\n    let canvas: any;\n    let game: any;\n    let PLAYER_HEIGHT: number = 100;\n    let PLAYER_WIDTH: number = 5;\n    let text: any = document.querySelector(\"#texte\");\n    let pong: any = document.querySelector(\"#pong\");\n    let click: any = document.querySelector(\"#play\");\n\n    pong.style.textAlign = \"center\";\n    pong.style.fontSize = \"400%\";\n    pong.style.fontFamily = \"Apple Chancery\";\n    text.style.textAlign = \"center\";\n    text.style.fontSize = \"250%\";\n    text.style.fontFamily = \"Apple Chancery\";\n    click.style.textAlign = \"center\";\n    click.style.fontSize = \"250%\";\n    click.style.fontFamily = \"Apple Chancery\";\n\n    function draw() {\n        console.log(\"gildas le bg\");\n        var context = canvas.getContext('2d');\n        // Draw field\n        context.fillStyle = 'black';\n        context.fillRect(0, 0, canvas.width, canvas.height);\n        // Draw middle line\n        context.strokeStyle = 'white';\n        context.beginPath();\n        context.moveTo(canvas.width / 2, 0);\n        context.lineTo(canvas.width / 2, canvas.height);\n        context.stroke();\n        // Draw players\n        context.fillStyle = 'white';\n        context.fillRect(5, game.player.y, PLAYER_WIDTH, PLAYER_HEIGHT);\n        context.fillRect(canvas.width - 5 - PLAYER_WIDTH, game.computer.y, PLAYER_WIDTH, PLAYER_HEIGHT);\n        // Draw ball\n        context.beginPath();\n        context.fillStyle = 'white';\n        context.arc(game.ball.x, game.ball.y, game.ball.r, 0, Math.PI * 2, false);\n        context.fill();\n    }\n\n    function ballMove() {\n        // Rebounds on top and bottom\n        if (game.ball.y > canvas.height || game.ball.y < 0) \n            game.ball.speed.y *= -1;\n        if (game.ball.x > canvas.width - PLAYER_WIDTH) \n            collision(game.computer);\n        else if (game.ball.x < PLAYER_WIDTH) \n            collision(game.player);\n        game.ball.x += game.ball.speed.x;\n        game.ball.y += game.ball.speed.y;\n    }\n        \n    function play() {\n        draw();\n        ballMove();\n        requestAnimationFrame(play);\n    }\n\n    function changeDirection(playerPosition: any) {\n        var impact = game.ball.y - playerPosition - PLAYER_HEIGHT / 2;\n        var ratio = 100 / (PLAYER_HEIGHT / 2);\n        // Get a value between 0 and 10\n        game.ball.speed.y = Math.round(impact * ratio / 10);\n    }\n    \n    function collision(player: any) {\n        // The player does not hit the ball\n        if (game.ball.y < player.y || game.ball.y > player.y + PLAYER_HEIGHT) {\n            // Set ball and players to the center\n            game.ball.x = canvas.width / 2;\n            game.ball.y = canvas.height / 2;\n            game.player.y = canvas.height / 2 - PLAYER_HEIGHT / 2;\n            game.computer.y = canvas.height / 2 - PLAYER_HEIGHT / 2;\n            \n            // Reset speed\n            game.ball.speed.x = 4;\n        } else {\n            // Increase speed and change direction\n            game.ball.speed.x *= -1.25;\n            changeDirection(player.y);\n        }\n    }\n\n    document.addEventListener('click', function () {\n        text.style.display = \"none\";\n        click.style.display = \"none\";\n        canvas = document.getElementById('canvas');\n        canvas.style.display = \"block\";\n        canvas.style.margin = \"auto\";\n        game = {\n            player: {\n                y: canvas.height / 2 - PLAYER_HEIGHT / 2\n            },\n            computer: {\n                y: canvas.height / 2 - PLAYER_HEIGHT / 2\n            },\n            ball: {\n                x: canvas.width / 2,\n                y: canvas.height / 2,\n                r: 5,\n                speed: {\n                  x: 2,\n                  y: 2\n                  }\n            }\n        };\n        canvas.addEventListener('mousemove', playerMove);\n        function playerMove(event: any) {\n            // Get the mouse location in the canvas\n            var canvasLocation = canvas.getBoundingClientRect();\n            var mouseLocation = event.clientY - canvasLocation.y;\n            if (mouseLocation < PLAYER_HEIGHT / 2) \n                game.player.y = 0;\n            else if (mouseLocation > canvas.height - PLAYER_HEIGHT / 2) \n                game.player.y = canvas.height - PLAYER_HEIGHT;\n            else \n                game.player.y = mouseLocation - PLAYER_HEIGHT / 2;\n        }\n        draw();\n        document.addEventListener('click', function () {\n          play();\n        });\n    });\n  });\n\n\nexport default Pong;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}